# Sentinel 1.7.2
  1. 流量监控(保护服务不挂掉)
     * 资源名:唯一名称,默认请求路径
     * 阈值类型/单机阈值
        * QPS(每秒钟的请求数量),当调用该api的QPS达到阈值的时候进行限流
        * 线程数:当调用该api的线程数达到阈值的时候进行限流
     * 流控模式
        * 直接:api达到限流条件直接进行限流
        * 关联:当关联的资源达到阈值时就限流自己
        * 链路:只记录指定链路上的流量(指定资源从入口资源进来的流量,如果达到阈值,就进行限流)[api级别的的针对来源]
     * 流控效果
        * 快速失败:直接失败,抛出异常
        * Warm Up:根据codeFactor(冷加载因子,默认3)的值,从阈值/codeFactor,经过预热时长,才达到设置的QPS阈值(冷启动)
        * 排队等待: 让请求以均匀的速度通过，对应的是漏桶算法(匀速器)
  2. 熔断降级(当扇出链路的某个微服务不可用或者响应时间太长时，会进行服务的降级，进而熔断该节点微服务的调用，快速返回错误的响应信息。当检测到该节点微服务调用响应正常后，恢复调用链路)
     #### 降级策略
        * RT:
          * 平均响应时间 (DEGRADE_GRADE_RT),秒级,当资源的平均响应时间超过阈值且在时间窗口之内通过的请求>=5,两个条件同时满足后触发降级
          * 窗口期过后关闭断路器
          * RT最大4900，若需要变更此上限可以通过启动配置项 -Dcsp.sentinel.statistic.max.rt=xxx 来配置
        * 异常比例(DEGRADE_GRADE_EXCEPTION_RATIO)秒级,QPS>=5且异常比例(秒级统计)超过阈值时,触发降级;时间窗口结束后,关闭降级
        * 异常数 (DEGRADE_GRADE_EXCEPTION_COUNT)分钟级,异常数(分钟统计)超过阈值时,触发降级,时间窗口结束后,关闭降级
        * [异常降级仅针对业务异常，对 Sentinel 限流降级本身的异常（BlockException）不生效]
  3. 热点限流(热点即经常访问的数据。很多时候我们希望统计某个热点数据中访问频次最高的 Top K 数据，并对其访问进行限制)
     * 对应spring-nacos-sentinel模块
  4. 系统规则(应用级别的入口流量进行控制)
     * Load（仅对 Linux/Unix-like 机器生效）：当系统 load1 超过阈值，且系统当前的并发线程数超过系统容量时才会触发系统保护。系统容量由系统的 maxQps * minRt 计算得出。设定参考值一般是 CPU cores * 2.5。
     * CPU usage（1.5.0+ 版本）：当系统 CPU 使用率超过阈值即触发系统保护（取值范围 0.0-1.0）。
     * RT：当单台机器上所有入口流量的平均 RT 达到阈值即触发系统保护，单位是毫秒。
     * 线程数：当单台机器上所有入口流量的并发线程数达到阈值即触发系统保护。
     * 入口 QPS：当单台机器上所有入口流量的 QPS 达到阈值即触发系统保护。